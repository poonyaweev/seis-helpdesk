<!DOCTYPE html>
<html>
<head>
    <title>Update Ticket</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.1.1/dist/css/tabler.min.css" />
</head>
<body>
    <h2>Update Ticket</h2>

<form action="/update/<%= ticket._id %>" method="post" enctype="multipart/form-data">

  <div>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" value="<%= ticket.name %>" disabled>
  </div>

  <div>
    <label for="menu">Menu:</label>
    <input type="text" id="menu" name="menu" value="<%= ticket.menu %>" disabled>
  </div>

  <div>
    <label for="phoneNumber">Phone Number:</label>
    <input type="text" id="phoneNumber" name="phoneNumber" value="<%= ticket.phoneNumber %>" disabled>
</div>

<div>
    <label for="lineID">LINE ID:</label>
    <input type="text" id="lineID" name="lineID" value="<%= ticket.lineID %>" disabled>
</div>

<div>
  <label for="category">Category:</label>
  <select id="category" name="category" disabled>
    <option value="Problem" <%= ticket.status === 'Problem' ? 'selected' : '' %>>Problem</option>
    <option value="Suggestion" <%= ticket.status === 'Suggestion' ? 'selected' : '' %>>Suggestion</option>
    <option value="Others" <%= ticket.status === 'Others' ? 'selected' : '' %>>Others</option>
  </select>
</div>

  <div>
    <label for="description">Description:</label>
    <textarea id="description" name="description" disabled><%= ticket.description %></textarea>
  </div>

  <div>
    <label for="status">Status:</label>
    <select id="status" name="status" disabled>
      <option value="Open" <%= ticket.status === 'Open' ? 'selected' : '' %>>Open</option>
      <option value="In Progress" <%= ticket.status === 'In Progress' ? 'selected' : '' %>>In Progress</option>
      <option value="Resolved" <%= ticket.status === 'Resolved' ? 'selected' : '' %>>Resolved</option>
      <option value="Closed" <%= ticket.status === 'Closed' ? 'selected' : '' %>>Closed</option>
    </select>
  </div>

  <div>
    <label>Current Image:</label>
    <% if (ticket.image) { %>
      <img src="/image/<%= ticket._id %>" alt="Ticket Image" width="200"> <br>
    <% } else { %>
      No Image <br>
    <% } %>
    <label for="image">Change Image:</label>
    <input type="file" id="image" name="image" disabled>
  </div>

  <button type="submit" disabled>Update Ticket</button>
</form>

<a href="/">Back to Ticket List</a>
</body>
<script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.1.1/dist/js/tabler.min.js"></script>
</html>